<%- include ('../layouts/adminHeader.ejs') %>

  <%- include ('../layouts/adminMain.ejs') %>

    <form action="/admin/editProduct" method="post" class="my-auto" style="height: 90vh;" enctype="multipart/form-data">
      <div class="container h-100 ">
        <div class="row d-flex justify-content-center align-items-center h-100">
          <div class="col-lg-12 col-xl-11">
            <div class="card bg-transparent" style="border-radius: 25px;">
              <div class="card-body p-md-2">
                <div class="row justify-content-center">
                  <div class="col-md-2 col-lg-6 col-xl-5 order-2 order-lg-1 width-50">
                    <p class="text-center h1 fw-bold mb-5 mx-1 mx-md-4 mt-4 text-primary">Edit<span
                        class="text-main-1">Product</span></p>

                    <div class="mx-1 mx-md-2">

                      <div class="d-flex flex-row align-items-center mb-2">

                        <div class="form-outline flex-fill mb-0">

                          <input type="text" id="form3Example1c" class="form-control" name="sName" placeholder="Name"
                            value="<%= products.name %>" required />

                        </div>
                      </div>

                      <div class="d-flex flex-row align-items-center mb-2">

                        <div class="form-outline flex-fill mb-0">

                          <input type="text" id="form3Example3c" class="form-control" name="sQuantity"
                            placeholder="Stock" value="<%= products.quantity %>" required />

                        </div>
                      </div>

                      <div class="d-flex flex-row align-items-center mb-2">

                        <div class="form-outline flex-fill mb-0">

                          <input type="number" id="form3Example1c" class="form-control" name="sPrice"
                            placeholder="Price" value="<%= products.price %>" required />

                        </div>
                      </div>

                      <div class="d-flex flex-row align-items-center mb-2">

                        <div class="form-outline flex-fill mb-0">

                          <input type="text" id="form3Example4c" class="form-control" name="sDescription"
                            placeholder="Description" value="<%= products.description %>" required />

                        </div>
                      </div>

                      <div class="d-flex flex-row align-items-center mb-2">

                        <div class="form-outline flex-fill mb-0">

                          <input type="number" id="form3Example1c" class="form-control" name="sRating"
                            placeholder="Rating" max="5" value="<%= products.rating %>" required />

                        </div>
                      </div>
                      <div class="d-flex flex-row align-items-center mb-2">

                        <div class="form-outline flex-fill mb-0">
                          <label class="form-label  select-label" for="form3Example1c"></label>

                          <select name="sCategory" class="form-control">
                            <option value="<%= products.category %>" disabled selected>Select a Category</option>
                            <% if(category){ %>
                              <% for(let i=0;i < category.length; i++){ %>
                                <option value="<%= category[i].name %>">
                                  <%= category[i].name %>
                                </option>
                                <% } %>
                                  <% }else{ %>
                                    <h1>No Categories to add</h1>
                                    <% } %>
                          </select>

                        </div>
                      </div>
                      <div class="d-flex flex-row align-items-center mb-4">
                        <div class="form-outline flex-fill mb-0">
                          <label class="form-label" for="form3Example4c">Upload Image</label>
                          <input type="file" id="form3Example4c" class="form-control" name="sImage" multiple
                            accept="image/png, image/gif, image/jpeg, image/jpg ,image/webp" />
                        </div>
                      </div>
                      <div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4">
                        <input type="hidden" name="id" value="<%= products._id %>">
                        <button type="submit" value="Register" class="btn btn-success btn-lg">Save Edits</button>
                        <a href="/admin/adminProduct" class="btn btn-danger ml-2 btn-lg">Go Back</a>
                      </div>

                      <% if(typeof message !=='undefined' ){%>
                        <p style="color:green">
                          <%= message %>
                        </p>
                        <% } %>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
    </form>


    <%- include ('../layouts/adminFooter.ejs') %>